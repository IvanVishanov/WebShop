{% extends 'base.html.twig' %}
{% block title %}Edit User{% endblock %}
{% block body %}
    <div class="container body-content" >
        <div class="center-block" style=" width: 400px">
            <form class="form-horizontal" action="{{ path('admin_editProfile',{'id':user.id}) }}" method="post">
                <table class="table table-striped table-bordered" style="width: 400px;margin-bottom:0px">
                    <tr class="text-center">
                        <td colspan="2"><h4>Edit Profile</h4></td>
                    </tr>
                    <tr>
                        <th>Nickname</th>
                        <td style="width: 200px"><input style="margin: 0;padding: 0;border: 0;background-color: transparent;height: 100%;width: 100%;" type="text"  value="{{ user.username }}"  placeholder="Username" name="user_edit[username]" required></td>
                    </tr>
                    <tr>
                        <th>Email</th>
                        <td><input style="margin: 0;padding: 0;border: 0;border-color:transparent;background-color: transparent;height: 100%;width: 100%;"  value="{{ user.email }}" id="user_email" placeholder="Email" name="user_edit[email]" required type="email"></td>
                    </tr>
                    <tr>
                        <th>Firstname</th>
                        <td> <input style="margin: 0;padding: 0;border: 0;background-color: transparent;height: 100%;width: 100%;" type="text"  value="{{ user.firstName }}"  placeholder="First Name" name="user_edit[firstName]" required></td>
                    </tr>
                    <tr>
                        <th>Lastname</th>
                        <td> <input  style="margin: 0;padding: 0;border: 0;background-color: transparent;height: 100%;width: 100%;" type="text"  value="{{ user.lastName }}"  placeholder="Last Name" name="user_edit[lastName]" required></td>
                    </tr>
                    <tr>
                        <th>Password</th>
                        <td> <input style="margin: 0;padding: 0;border: 0;background-color: transparent;height: 100%;width: 100%;"   type="password" class="form-control" id="user_password_first" placeholder="Password" name="user_edit[password][first]"></td>
                    </tr>
                    <tr>
                        <th>Confirm Password</th>
                        <td> <input style="margin: 0;padding: 0;border: 0;background-color: transparent;height: 100%;width: 100%;"  type="password" class="form-control" id="user_password_second" placeholder="Password" name="user_edit[password][second]"></td>
                    </tr>
                    <tr>
                        <th>Choose Role</th>
                        <td>{{ form_widget(form.roles) }}</td>
                    </tr>

                </table>

                <div class="text-center">
                    <a class="btn btn-default" style="float: left;width: 50%" href="{{ path('admin_users_all') }}">Cancel</a>
                    <button type="submit" style="width: 50%" class="btn btn-primary">Save Changes</button>
                </div>
                {{  form_row(form._token) }}
            </form>
        </div>
    </div>
    <hr>
    <div class="container body-content">
        <div class="col-md-offset-2 col-md-8">
            <table class="table">
                <thead>
                <tr>
                    <th class="col-md-2"></th>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                {% for boughtProduct in boughtProducts %}
                    <tr>
                        <td><img src="{{ asset('uploads/images/' ~ boughtProduct.product.image) }}"
                                 class="img-responsive center-block"
                                 style="width: 100%" alt="Image"></td>
                        <td>{{ boughtProduct.product.name }}</td>
                        <td>{{ boughtProduct.quantity }}</td>
                        <td><a href="{{ path('admin_delete_boughtProduct', {'boughtProductId':boughtProduct.id, 'userId': user.id}) }}">Delete</a></td>
                    </tr>
                {% endfor %}
                </tbody>
                <tfoot>
                <tr class="text-center">
                    {% for flash_message in app.session.flashBag.get('error') %}
                        <td colspan="6">
                            <div class="flash-notice">
                                {{ flash_message }}
                            </div>
                        </td>
                    {% endfor %}
                </tr>
                </tfoot>
            </table>
        </div>
    </div>
{% endblock %}


